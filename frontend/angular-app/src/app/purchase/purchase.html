<h2>Purchase Headphone</h2>
<form [formGroup]="purchaseForm" (ngSubmit)="onSubmit()">
  <label for="product">Product:</label>
  <select id="product" formControlName="productId">
    <option value="" disabled>Select a product</option>
    <option *ngFor="let product of products" [value]="product.id">
      {{ product.name }} ({{ product.price | currency }})
    </option>
  </select>
  <div *ngIf="purchaseForm.get('productId')?.invalid && purchaseForm.get('productId')?.touched">
    <small>Product is required.</small>
  </div>

  <label for="quantity">Quantity:</label>
  <input id="quantity" type="number" formControlName="quantity" min="1" />
  <div *ngIf="purchaseForm.get('quantity')?.invalid && purchaseForm.get('quantity')?.touched">
    <small>Quantity must be at least 1.</small>
  </div>

  <label for="name">Name:</label>
  <input id="name" formControlName="name" type="text" />
  <div *ngIf="purchaseForm.get('name')?.invalid && purchaseForm.get('name')?.touched">
    <small>Name is required (min 2 chars).</small>
  </div>

  <label for="address">Address:</label>
  <input id="address" formControlName="address" type="text" />
  <div *ngIf="purchaseForm.get('address')?.invalid && purchaseForm.get('address')?.touched">
    <small>Address is required (min 5 chars).</small>
  </div>

  <label for="paymentMethod">Payment Method:</label>
  <select id="paymentMethod" formControlName="paymentMethod">
    <option value="" disabled>Select payment method</option>
    <option value="Credit Card">Credit Card</option>
    <option value="Debit Card">Debit Card</option>
    <option value="UPI">UPI</option>
    <option value="Cash on Delivery">Cash on Delivery</option>
  </select>
  <div *ngIf="purchaseForm.get('paymentMethod')?.invalid && purchaseForm.get('paymentMethod')?.touched">
    <small>Payment method is required.</small>
  </div>

  <button type="submit" [disabled]="purchaseForm.invalid">Purchase</button>
</form>
<div *ngIf="message">{{ message }}</div>
